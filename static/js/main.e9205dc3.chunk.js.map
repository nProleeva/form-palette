{"version":3,"sources":["photo_camera_black_24dp.svg","inputText.tsx","inputImg.tsx","form.tsx","redux/store.ts","inputColor.tsx","palette.tsx","App.tsx","index.tsx"],"names":["_path","_path2","InputText","React","forwardRef","props","ref","useState","value","setValue","label","type","onChange","event","exec","target","_extends","Object","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgPhotoCameraBlack24Dp","_ref","svgRef","title","titleId","xmlns","viewBox","fill","id","d","ForwardRef","InputImg","inputFile","dropArea","useRef","refImg","fileName","setFileName","addImage","file","reader","FileReader","onload","current","result","src","readAsDataURL","preventDefaults","e","preventDefault","stopPropagation","useEffect","arrayType","forEach","addEventListener","removeEventListener","className","onDrop","ev","files","dataTransfer","name","accept","required","arrayText","Form","refTexts","response","setResponse","Fragment","onSubmit","formData","FormData","append","arrayFile","map","el","toString","fetch","method","body","then","res","ok","text","index","readOnly","addColorAction","createAction","updateColorAction","color","deleteColorAction","reducer","handleActions","ADD_COLOR","state","action","arrayColor","concat","payload","UPDATE_COLOR","DELETE_COLOR","filter","connect","updateColor","deleteColor","setColor","isOpen","setIsOpen","refColor","handleMouseUp","setAttribute","document","clickAdd","click","onClick","console","log","addColor","idNew","setIdNew","App","to","path","ReactDOM","render","StrictMode","store","createStore","getElementById"],"mappings":"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","file":"static/js/main.e9205dc3.chunk.js","sourcesContent":["var _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPhotoCameraBlack24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0V0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.12 4l1.83 2H20v12H4V6h4.05l1.83-2h4.24M15 2H9L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm-3 7c1.65 0 3 1.35 3 3s-1.35 3-3 3-3-1.35-3-3 1.35-3 3-3m0-2c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPhotoCameraBlack24Dp);\nexport default __webpack_public_path__ + \"static/media/photo_camera_black_24dp.bd58cbc5.svg\";\nexport { ForwardRef as ReactComponent };","import React, {ForwardedRef, useState} from \"react\";\n\ninterface infPropsInputText {\n    label:string\n}\n\nconst InputText = React.forwardRef<HTMLInputElement, infPropsInputText>((props:infPropsInputText, ref:ForwardedRef<HTMLInputElement>) => {\n    const [value, setValue] = useState<string>('');\n\n    function handleChange(event:React.ChangeEvent<HTMLInputElement>):void {\n        setValue((/[a-z]+/i.exec(event.target.value) as string|null)||'');\n    }\n\n    return (\n        <label>\n            {props.label}\n            <input type=\"text\" value={value} onChange={handleChange} ref={ref} />\n        </label>\n    );\n})\n\nexport default InputText","import React, {useState, useEffect, useRef, ForwardedRef} from \"react\";\nimport { ReactComponent as Svg } from \"./photo_camera_black_24dp.svg\";\n\ntype typeDrag = 'dragenter'|'dragover'|'dragleave';\n\nconst InputImg = React.forwardRef<HTMLInputElement>((props:{}, inputFile:ForwardedRef<HTMLInputElement>) => {\n\n    const dropArea = useRef<HTMLDivElement>(null);\n    const refImg = useRef<HTMLImageElement>(null);\n    const [fileName, setFileName] = useState<string>();\n\n    useEffect(()=>{\n        let arrayType:Array<typeDrag> = ['dragenter','dragover','dragleave']\n        if(dropArea.current) {\n            arrayType.forEach((type:typeDrag)=>{\n                dropArea.current?.addEventListener(type,preventDefaults, false);\n            })\n        }\n\n        return () => {\n            if(dropArea.current) {\n                arrayType.forEach((type:typeDrag)=>{\n                    dropArea.current?.removeEventListener(type,preventDefaults, false);\n                })\n            }\n        }\n    },[dropArea])\n\n    function handleDrop(ev:React.DragEvent<HTMLDivElement>):void {\n        let files:FileList = ev.dataTransfer.files;\n        if (typeof inputFile === 'object' && inputFile?.current) {\n            setFileName(files[0].name);\n            inputFile.current.files = files;\n            addImage(files[0]);\n        }\n        ev.preventDefault();\n        ev.stopPropagation();\n    }\n\n    function handleChange():void {\n        if (typeof inputFile === 'object' && inputFile?.current) {\n            setFileName((inputFile.current.files as FileList)[0].name);\n            addImage((inputFile.current.files as FileList)[0]);\n        }\n    }\n\n    function addImage(file:File):void {\n        let reader = new FileReader();\n        reader.onload = function() {\n            if (typeof refImg === 'object' && refImg?.current && typeof reader.result === 'string') {\n                refImg.current.src = reader.result;\n            }\n        };\n        reader.readAsDataURL(file);\n    }\n    function preventDefaults(e:DragEvent):void {\n        e.preventDefault();\n        e.stopPropagation();\n    }\n\n    return (\n        <div ref={dropArea} className=\"dropArea\" onDrop={handleDrop}>\n            Фото\n            <label>\n                <i className=\"material-icons\"><Svg>photo_camera</Svg></i>\n                <span className=\"title\">{fileName?fileName:\"Добавить файл\"}</span>\n                <input type=\"file\" accept=\"image/*\" ref={inputFile} onChange={handleChange} required/>\n                <img ref={refImg}/>\n            </label>\n        </div>\n    );\n});\n\nexport default InputImg;","import React, {useRef, useState} from 'react';\nimport InputText from \"./inputText\";\nimport InputImg from \"./inputImg\";\n\nimport './form.scss'\n\ninterface infArrayText {\n    id: string,\n    label: string\n}\n\nconst arrayText:Array<infArrayText>=[\n    {id:\"name\", label:\"Имя\"},\n    {id:\"surname\", label:\"Фамилия\"},\n    {id:\"patronymic\", label:\"Отчество\"},\n]\nconst Form:React.FC<{}> = () => {\n\n    const refImg = useRef<HTMLInputElement>(null);\n    const refTexts = [useRef<HTMLInputElement>(null), useRef<HTMLInputElement>(null), useRef<HTMLInputElement>(null)];\n    const [response, setResponse] = useState<string>('');\n\n    const onSubmit:(event:React.FormEvent<HTMLFormElement>)=>void = (event:React.FormEvent<HTMLFormElement>) => {\n\n        let formData:FormData = new FormData();\n\n        formData.append(\"action\",\"send_data\");\n        formData.append(\"id\", \"1\");\n        let arrayFile:FileList|Array<string> = refImg.current?.files||[''];\n        formData.append('image', arrayFile[0]);\n        formData.append(\"contact\", `[${refTexts.map((el:React.RefObject<HTMLInputElement>)=>el.current?.value.toString())}]`);\n\n        fetch('https://test-job.pixli.app/send.php', {\n            method: 'POST',\n            body: formData\n        }).then((res:Response)=> {\n            if(res.ok) {\n               return res.text();\n            }\n            return '';\n        }).then((text:string) => setResponse(text))\n        event.preventDefault();\n    }\n\n    return (\n        <React.Fragment>\n            <form onSubmit={onSubmit}>\n                {\n                    arrayText.map((el:infArrayText,index:number)=><InputText ref={refTexts[index]} label={el.label} key={index}/>)\n                }\n                <InputImg ref={refImg}/>\n                <input type=\"submit\" value=\"Сохранить\"/>\n            </form>\n            <label>\n                Response\n                <textarea value={response} readOnly></textarea>\n            </label>\n        </React.Fragment>\n    );\n}\n\nexport default Form;","import {handleActions, createAction, Action} from 'redux-actions'\n\ntype typeType = 'ADD_COLOR' | 'UPDATE_COLOR' | 'DELETE_COLOR';\ntype typeAction = string|typeUpdateColor|number;\n\nexport interface infState {\n    arrayColor: Array<string>\n}\n\nexport interface typeUpdateColor {\n    id:number,\n    color:string\n}\nconst ADD_COLOR:typeType = 'ADD_COLOR',\n    UPDATE_COLOR:typeType = 'UPDATE_COLOR',\n    DELETE_COLOR:typeType = 'DELETE_COLOR';\n\nconst addColorAction:(color:string)=>Action<string> = createAction(ADD_COLOR);\nconst updateColorAction:(id:number,color:string)=>Action<typeUpdateColor> = createAction(UPDATE_COLOR,(id:number,color:string) => ({ id,color }));\nconst deleteColorAction:(id:number)=>Action<number> = createAction(DELETE_COLOR);\n\nconst reducer = handleActions<infState, typeAction>(\n    {\n        ADD_COLOR: (state:infState, action:Action<typeAction>) => ({\n           arrayColor: state.arrayColor.concat(action.payload as string || '')\n        }),\n        UPDATE_COLOR: (state:infState, action:Action<typeAction>) => {\n            const {id,color} = action.payload as typeUpdateColor;\n            return {\n                arrayColor: state.arrayColor.map((el: string, index: number) => id === index ? color : el)\n            }\n        },\n        DELETE_COLOR: (state:infState, action:Action<typeAction>) => ({\n            arrayColor: state.arrayColor.filter((el:string, index:number) => action.payload as number !== index)\n        })\n    },\n    { arrayColor:[] }\n);\n\nexport {addColorAction,updateColorAction,deleteColorAction,reducer}","import React, {useState, useEffect, useRef} from 'react';\nimport {connect} from \"react-redux\";\nimport {updateColorAction, deleteColorAction} from \"./redux/store\";\nimport type {typeUpdateColor} from \"./redux/store\";\nimport {Action} from \"redux-actions\";\n\ninterface StateProps {\n    color:string,\n    clickAdd?:boolean,\n    id: number\n}\n\ninterface DispatchProps {\n    updateColor:(id:number,color:string)=>Action<typeUpdateColor>,\n    deleteColor:(id:number)=>Action<number>\n}\n\nfunction InputColor(props:DispatchProps & StateProps){\n    const [color,setColor] = useState<string>(props.color);\n    const [isOpen, setIsOpen] = useState<boolean>(false);\n    const refColor = useRef<HTMLInputElement>(null);\n\n    useEffect(()=>{\n        setColor(props.color);\n        document.addEventListener('mouseup',handleMouseUp,false);\n\n        return document.removeEventListener('mouseup',handleMouseUp,false);\n    },[props]);\n\n    useEffect(()=>{\n        if(props.clickAdd) {\n            refColor.current?.click();\n            setIsOpen(true);\n        }\n    },[props.clickAdd])\n\n    function handleChange(event:React.ChangeEvent<HTMLInputElement>):void {\n        setColor( event.target.value);\n        setIsOpen(true);\n        props.updateColor(props.id, event.target.value);\n    }\n    function clickDelete():void {\n        props.deleteColor(props.id);\n        setIsOpen(false);\n    }\n    //если открыт редактор и кликнули на область вне\n    function handleMouseUp():void {\n        if(isOpen) {\n            refColor.current?.setAttribute('type','text');\n            refColor.current?.setAttribute('type','color');\n            setIsOpen(false);\n        }\n    }\n\n    return (\n        <div className=\"containerColor\">\n            <input type=\"color\" value={color} onChange={handleChange} ref={refColor}/>\n            <button className=\"delete\" onClick={clickDelete}>x</button>\n        </div>\n    );\n}\n\nexport default connect(null, {\n    updateColor: updateColorAction,\n    deleteColor: deleteColorAction\n})(InputColor);","import React, {useState} from 'react';\n\nimport InputColor from \"./inputColor\";\nimport { connect } from 'react-redux';\nimport './palette.scss';\nimport {addColorAction} from \"./redux/store\";\nimport type {infState} from \"./redux/store\";\nimport {Action} from \"redux-actions\";\n\ninterface DispatchProps {\n    addColor:(color:string)=>Action<string>\n}\n\ntype Props = DispatchProps & infState\n\nfunction Palette(props:Props) {\n    const [idNew, setIdNew] = useState<number|null>(null);\n\n    const clickAdd = () => {\n        setIdNew(props.arrayColor.length);\n        props.addColor(\"#ffffff\");\n    }\n    return (\n        <div className=\"palette\">\n            {\n                props.arrayColor&&props.arrayColor.map((color:string,index:number)=><InputColor color={color} id={index} key={index} clickAdd={index===idNew}/>)\n            }\n            <button onClick={clickAdd}>Добавить цвет</button>\n        </div>\n    );\n}\n\nexport default connect(((state:infState):infState =>{\n    console.log(state);\n    return {\n        arrayColor:state.arrayColor\n    }\n}),{\n    addColor: addColorAction\n})(Palette);","import React from \"react\";\nimport Form from './form';\nimport Palette from \"./palette\";\n\nimport './App.scss';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link\n} from \"react-router-dom\";\n\nconst App:React.FC<{}> = () => {\n    return (\n        <Router>\n            <div>\n                <ul>\n                    <li>\n                        <Link to=\"/form\">Form</Link>\n                    </li>\n                    <li>\n                        <Link to=\"/palette\">Palette</Link>\n                    </li>\n                </ul>\n\n                <hr />\n                <Switch>\n                    <Route path=\"/form\">\n                        <Form />\n                    </Route>\n                    <Route path=\"/palette\">\n                            <Palette />\n                    </Route>\n                </Switch>\n            </div>\n        </Router>\n    );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport { Provider } from 'react-redux'\nimport {createStore} from \"redux\";\nimport {reducer as store} from \"./redux/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n      <Provider store={createStore(store)}>\n            <App />\n      </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}